<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Savol Generator v2.0</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-H8M3WB9TEF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-H8M3WB9TEF');
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>

    <div class="container">
        <h2>O'quv materiallari asosida savollar generatsiyasi</h2>
        <p>Ma'ruza matnini quyidagi maydonga joylashtiring YOKI fayl yuklang, so'ngra sozlamalarni tanlab "Yaratish" tugmasini bosing.</p>

        <div class="controls-container">
            <div class="control-group">
                <label for="fileInput">Fayl yuklash (.txt, .docx, .pdf, .pptx):</label>
                <input type="file" id="fileInput" accept=".txt,.docx, .pdf, .pptx">
                <button id="clearFileBtn" class="clear-file-btn" style="display: none;">Tozalash</button>
            </div>

            <div class="control-group">
                <label for="q_count">Savollar soni (taxminan):</label>
                <input type="number" id="q_count" value="5" min="2" max="20">
            </div>

            <div class="control-group">
                <label for="output_language">Natija tili:</label>
                <select id="output_language">
                    <option value="uz">O'zbekcha</option>
                    <option value="ru">Русский</option>
                </select>
            </div>

            <div class="control-group">
                <label for="q_type">Savol turi:</label>
                <select id="q_type">
                    <option value="hammasi">Nazariy va Test</option>
                    <option value="faqat_nazariy">Faqat Nazariy</option>
                    <option value="faqat_test">Faqat Test</option>
                </select>
            </div>

            <div class="control-group">
                <label for="q_difficulty">Murakkablik:</label>
                <select id="q_difficulty">
                    <option value="o'rta">O'rta (Standart)</option>
                    <option value="oson">Oson</option>
                    <option value="qiyin">Qiyin (Murakkab)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="test_format">Test formati (agar test yaratilsa):</label>
                <select id="test_format">
                    <option value="oddiy">Oddiy format (a, b, c, d)</option>
                    <option value="hemis">HEMIS formati (#, ====, ++++)</option>
                </select>
            </div>
        </div>

        <p id="manualInputLabel" style="margin-top: 15px;">Yoki matnni qo'lda kiriting:</p>
        <textarea id="lectureText" placeholder="Agar fayl tanlanmagan bo'lsa, shu yerdagi matn ishlatiladi..."></textarea>

        <button id="generateBtn">Yaratish</button>

        <div id="results-container">
            <div class="results-header">
                <div>
                    <h3>Natijalar:</h3>
                    <span id="generationTime" class="generation-time"></span>
                </div>
                <button id="downloadBtn" class="secondary-btn" style="display:none;">
                    Natijani (.txt) yuklab olish
                </button>
            </div>
            <div id="loading">
                <p>Generatsiya qilinmoqda... Bu biroz vaqt olishi mumkin.</p>
            </div>
            <div id="results"></div>
        </div>

    </div> <footer>
        © 2025, Boynazarov Ilhom Maxmudovich / TATU Samarqand filiali. Barcha huquqlar himoyalangan.<br>
        Ushbu vosita <a href="https://gemini.google.com/" target="_blank">Google Gemini</a> yordamida yaratildi.
    </footer>

<script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</body>
</html>
